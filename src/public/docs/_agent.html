<html><head><link href="pygments.css" rel="stylesheet" type="text/css" /></head><body><h3>agent</h3>
<blockquote>
<p><em>clojure.core/agent</em></p>
<div class="codehilite"><pre><span class="p">([</span><span class="nv">state</span><span class="p">]</span> <span class="p">[</span><span class="nv">state</span> <span class="nv">&amp;</span> <span class="nv">options</span><span class="p">])</span>
</pre></div>


<p>Creates and returns an agent with an initial value of state and
  zero or more options (in any order):</p>
<p>:meta metadata-map</p>
<p>:validator validate-fn</p>
<p>If metadata-map is supplied, it will be come the metadata on the
  agent. validate-fn must be nil or a side-effect-free fn of one
  argument, which will be passed the intended new state on any state
  change. If the new state is unacceptable, the validate-fn should
  return false or throw an exception.</p>
</blockquote></body></html>